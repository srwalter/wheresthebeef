<!doctype html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="wheresthebeef.js"></script>
        <script>

function format_row_link(row, first) {
    var tr = document.createElement('tr');

    var first_cell = true;
    for (const cell of row) {
        var td;
        if (first) {
            td = document.createElement('th');
            td.textContent = make_pretty(cell);
        } else {
            td = document.createElement('td');
            if (first_cell) {
                var a = document.createElement('a');
                a.textContent = cell;
                td.appendChild(a);

                a.addEventListener('click', (event) => {
                    const f = document.querySelector('#customerNumber');
                    f.value = cell;
                });

            } else {
                td.textContent = cell;
            }
        }
        first_cell = false;
        tr.appendChild(td);
    }

    return tr;
}

async function onLoad() {
    await callProcedure('lookupCustomer', format_row_link);
    await callProcedure('createOrder');
}
        </script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    </head>
    <body onload="onLoad();">
        <a href="/index.html">Back to Main</a>
    </body>
</html>
